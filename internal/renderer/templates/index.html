<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feed Reader</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <h1>Feed Reader</h1>
        <p>Generated at: {{.GeneratedAt.Format "2006-01-02 15:04:05"}} ({{.TimeWindow}})</p>
    </header>

    <main>
        {{range .Feeds}}
        <article class="feed">
            <header class="feed-header">
                <h2><a href="{{.URL}}" target="_blank">{{.Title}}</a></h2>
                {{if .Description}}
                <p class="feed-description">{{.Description}}</p>
                {{end}}
                <p class="feed-meta">Last updated: {{.LastUpdated.Format "2006-01-02 15:04:05"}}</p>
            </header>

            <div class="items">
                {{$items := index $.Items .URL}}
                {{if $items}}
                    {{range $items}}
                    <details class="item">
                        <summary class="item-summary">
                            <span class="item-title">
                                {{if .Link}}
                                <a href="{{.Link}}" target="_blank">{{.Title}}</a>
                                {{else}}
                                {{.Title}}
                                {{end}}
                            </span>
                            <time class="item-date">{{.PublishedDate.Format "Jan 2, 2006"}}</time>
                        </summary>
                        <div class="item-content">
                            {{if .Content}}
                                {{.Content | html}}
                            {{else if .Summary}}
                                {{.Summary | html}}
                            {{else}}
                                <p><em>No content available</em></p>
                            {{end}}
                        </div>
                    </details>
                    {{end}}
                {{else}}
                    <p class="no-items">No items found</p>
                {{end}}
            </div>
        </article>
        {{end}}
    </main>

    <footer>
        <p>Generated by feedspool</p>
    </footer>
</body>
</html>